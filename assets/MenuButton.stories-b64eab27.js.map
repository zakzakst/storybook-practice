{"version":3,"file":"MenuButton.stories-b64eab27.js","sources":["../../src/stories/experimental/menu-button/MenuButton.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"menu-button\">\r\n      <button class=\"menu-button__main\" @click=\"onClick\">\r\n        <font-awesome-icon icon=\"fa-solid fa-bars\" size=\"2x\" class=\"menu-button__main-icon\" />\r\n      </button>\r\n      <div class=\"menu-button__sub-buttons\">\r\n        <button v-for=\"(n, index) in 5\" :key=\"index\" class=\"menu-button__sub-button\">{{ n }}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue';\r\n/* @ts-ignore */\r\nimport anime from '../../../../node_modules/animejs/lib/anime.es.js'\r\n\r\nconst isMenuOpen = ref(false)\r\nconst isBusy = ref(false)\r\nconst transformRadius = 70\r\nconst transformDuration = 300\r\n\r\nconst openMenu = () => {\r\n  if (isBusy.value) return\r\n  isBusy.value = true\r\n  anime({\r\n    targets: '.menu-button__sub-button',\r\n    duration: transformDuration,\r\n    easing: 'easeOutBack',\r\n    translateX: (el: any, i: number, l: number) => {\r\n      return transformRadius * Math.sin(-(Math.PI / 2 - Math.PI / (l - 1) * i))\r\n    },\r\n    translateY: (el: any, i: number, l: number) => {\r\n      return transformRadius * Math.cos(Math.PI / 2 + Math.PI / (l - 1) * i)\r\n    },\r\n    delay: anime.stagger(100),\r\n    complete: () => {\r\n      isMenuOpen.value = true\r\n      isBusy.value = false\r\n    },\r\n  })\r\n}\r\n\r\nconst closeMenu = () => {\r\n  if (isBusy.value) return\r\n  isBusy.value = true\r\n  anime({\r\n    targets: '.menu-button__sub-button',\r\n    duration: transformDuration,\r\n    easing: 'easeInBack',\r\n    translateX: 0,\r\n    translateY: 0,\r\n    delay: anime.stagger(100),\r\n    complete: () => {\r\n      isMenuOpen.value = false\r\n      isBusy.value = false\r\n    },\r\n  })\r\n}\r\n\r\nconst onClick = () => {\r\n  if (isMenuOpen.value) {\r\n    closeMenu()\r\n  } else {\r\n    openMenu()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$BLOCK_NAME: '.menu-button';\r\n\r\n// 変数\r\n\r\n// レイアウト用\r\n.container {\r\n  position: relative;\r\n  width: 300px;\r\n  height: 300px;\r\n}\r\n\r\n#{ $BLOCK_NAME } {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 56px;\r\n  height: 56px;\r\n\r\n  &__main {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    display: block;\r\n    border: none;\r\n    width: 56px;\r\n    height: 56px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    z-index: 2;\r\n    background: #000;\r\n    color: #fff;\r\n  }\r\n\r\n  &__sub-buttons {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    display: block;\r\n    width: 48px;\r\n    height: 48px;\r\n    z-index: 1;\r\n  }\r\n\r\n  &__sub-button {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    display: block;\r\n    border: none;\r\n    width: 48px;\r\n    height: 48px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    background: #000;\r\n    color: #fff;\r\n  }\r\n}\r\n</style>"],"names":["isMenuOpen","ref","isBusy","transformRadius","transformDuration","openMenu","__name","anime","el","i","l","closeMenu","onClick"],"mappings":"6ZAkBM,MAAAA,EAAaC,EAAI,EAAK,EACtBC,EAASD,EAAI,EAAK,EAClBE,EAAkB,GAClBC,EAAoB,IAEpBC,EAAWC,EAAA,IAAM,CACjBJ,EAAO,QACXA,EAAO,MAAQ,GACTK,EAAA,CACJ,QAAS,2BACT,SAAUH,EACV,OAAQ,cACR,WAAY,CAACI,EAASC,EAAWC,IACxBP,EAAkB,KAAK,IAAI,EAAE,KAAK,GAAK,EAAI,KAAK,IAAMO,EAAI,GAAKD,EAAE,EAE1E,WAAY,CAACD,EAASC,EAAWC,IACxBP,EAAkB,KAAK,IAAI,KAAK,GAAK,EAAI,KAAK,IAAMO,EAAI,GAAKD,CAAC,EAEvE,MAAOF,EAAM,QAAQ,GAAG,EACxB,SAAU,IAAM,CACdP,EAAW,MAAQ,GACnBE,EAAO,MAAQ,EACjB,CAAA,CACD,EAAA,EAlBc,YAqBXS,EAAYL,EAAA,IAAM,CAClBJ,EAAO,QACXA,EAAO,MAAQ,GACTK,EAAA,CACJ,QAAS,2BACT,SAAUH,EACV,OAAQ,aACR,WAAY,EACZ,WAAY,EACZ,MAAOG,EAAM,QAAQ,GAAG,EACxB,SAAU,IAAM,CACdP,EAAW,MAAQ,GACnBE,EAAO,MAAQ,EACjB,CAAA,CACD,EAAA,EAde,aAiBZU,EAAUN,EAAA,IAAM,CAChBN,EAAW,MACHW,IAEDN,GACX,EALc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}